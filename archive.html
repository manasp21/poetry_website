<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Browse the complete archive of poetry on PoetryScape - Filter by author, language, form, and length">
    <meta name="author" content="Manas Pandey">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <title>Poetry Archive - PoetryScape</title>
    <link rel="stylesheet" href="css/style.css">
    <script defer src="js/dynamic-poem-loader.js"></script>
    <script defer src="js/content-loader.js"></script>
    <script defer src="js/main.js"></script>
    <script defer src="js/archive.js"></script> 
</head>
<body>
    <header>
        <div class="logo">
            <a href="index.html">PoetryScape</a>
        </div>
        <nav>
            <ul>
                <li><a href="archive.html" class="active">Archive</a></li>
                <li><a href="index.html#discover">Discover</a></li>
            </ul>
        </nav>
        <button id="theme-toggle" aria-label="Toggle light and dark mode">
            <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24px" height="24px"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM12 9c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3zm0-7c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1s1-.45 1-1V3c0-.55-.45-1-1-1zm0 18c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1zm-8-9H2c-.55 0-1 .45-1 1s.45 1 1 1h2c.55 0 1-.45 1-1s-.45-1-1-1zm18 0h-2c-.55 0-1 .45-1 1s.45 1 1 1h2c.55 0 1-.45 1-1s-.45-1-1-1zM5.64 5.64c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.41 1.41c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L5.64 5.64zm12.72 12.72c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.41 1.41c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41l-1.41-1.41zM4.22 18.36l1.41-1.41c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0l-1.41 1.41c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0zm12.72-12.72l1.41-1.41c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0l-1.41 1.41c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0z"/></svg>
            <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24px" height="24px"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.62-.14 2.37-.38-.3-.48-.5-.98-.5-1.62 0-1.93 1.57-3.5 3.5-3.5.64 0 1.14.2 1.62.5.24-.75.38-1.54.38-2.37 0-4.97-4.03-9-9-9zm-1 13.5c-2.48 0-4.5-2.02-4.5-4.5s2.02-4.5 4.5-4.5 4.5 2.02 4.5 4.5-2.02 4.5-4.5 4.5z"/></svg>
        </button>
    </header>

    <main class="archive-main">
        <section class="filtering-sorting-bar">
            <div class="archive-header">
                <h1 class="archive-title">Poetry Archive</h1>
                <div class="archive-stats">
                    <span id="poems-count">Loading...</span>
                    <span id="filtered-count" class="filtered-count"></span>
                </div>
            </div>
            
            <!-- Search Bar -->
            <div class="search-section">
                <div class="search-container">
                    <input type="text" id="search-input" placeholder="Search poems by title, author, or content..." aria-label="Search poems">
                    <button id="search-clear" class="search-clear" aria-label="Clear search">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20px" height="20px">
                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Filter Toggles -->
            <div class="filter-controls">
                <button id="toggle-filters" class="toggle-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20px" height="20px">
                        <path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/>
                    </svg>
                    <span>Filters</span>
                    <span id="active-filters-count" class="filter-badge">0</span>
                </button>
                <button id="clear-all-filters" class="clear-filters-btn" style="display: none;">Clear All</button>
            </div>
            
            <!-- Collapsible Filter Panel -->
            <div id="filters-panel" class="filters-panel">
                <div class="filters-grid">
                    <div class="filter-group">
                        <label for="filter-poet">Author:</label>
                        <select id="filter-poet" name="poet">
                            <option value="">All Authors</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filter-language">Language:</label>
                        <select id="filter-language" name="language">
                            <option value="">All Languages</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filter-form">Form:</label>
                        <select id="filter-form" name="form">
                            <option value="">All Forms</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filter-length">Length:</label>
                        <select id="filter-length" name="length">
                            <option value="">All Lengths</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="sort-by">Sort By:</label>
                        <select id="sort-by" name="sort">
                            <option value="title_asc">Title (A-Z)</option>
                            <option value="title_desc">Title (Z-A)</option>
                            <option value="author_asc">Author (A-Z)</option>
                            <option value="author_desc">Author (Z-A)</option>
                            <option value="form_asc">Form (A-Z)</option>
                            <option value="random">Random Order</option>
                        </select>
                    </div>
                    <div class="filter-group view-controls">
                        <label>View:</label>
                        <div class="view-toggle">
                            <button id="grid-view-btn" class="view-btn active" aria-label="Grid View" title="Grid View">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="18px" height="18px">
                                    <path d="M3 3h8v8H3V3zm0 10h8v8H3v-8zM13 3h8v8h-8V3zm0 10h8v8h-8v-8z"/>
                                </svg>
                            </button>
                            <button id="list-view-btn" class="view-btn" aria-label="List View" title="List View">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="18px" height="18px">
                                    <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                                </svg>
                            </button>
                            <button id="compact-view-btn" class="view-btn" aria-label="Compact View" title="Compact View">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="18px" height="18px">
                                    <path d="M3 15h18v-2H3v2zm0-4h18V9H3v2zm0-4h18V5H3v2z"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <div class="results-info">
            <div class="results-summary">
                <span id="showing-count">Showing all poems</span>
            </div>
            <div class="quick-actions">
                <button id="shuffle-btn" class="action-btn" title="Shuffle poems">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16px" height="16px">
                        <path d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"/>
                    </svg>
                    Shuffle
                </button>
                <button id="select-random" class="action-btn" title="Select random poem">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16px" height="16px">
                        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    Random
                </button>
            </div>
        </div>
        
        <section id="archive-content-area" class="poem-grid" aria-live="polite">
            <div class="loading-spinner">
                <div class="spinner"></div>
                <p>Loading poems...</p>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; <span id="current-year"></span> PoetryScape. All rights reserved.</p>
        <p><a href="#about">About</a> | <a href="#contact">Contact</a></p>
    </footer>

</body>
</html>